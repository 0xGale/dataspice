---
title: "Creating JSON Metadata and README website with `dataspice`"
author: "runconf18 metadatagroup"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

The goal of the `dataspice` package is to make it easier for researchers to create basic, lightweight and concise metadata files for their datasets. These basic files can then be used to:

 -   make useful information available during analysis.
 -   create a helpful dataset README webpage.
 -   produce more complex metadata formats to aid dataset discovery.

Our metadata fields are based on schema.org and other metadata standards.

To start the user will have one or more datafiles [define what a datafiles will work, what wont] in a common directory. 
The `create_spice()` function will read in the files from that directory and create a set of template metadata files for the user to populate. These templates will include some data extracted from the users datafiles, including things like file names and column names to aid the user in populating the metadatafiles. 

![](https://user-images.githubusercontent.com/6106733/40335756-444642e0-5d1a-11e8-8c33-0d3053441a79.png)

## Metadata Files

- attributes [this is where most of the user data entry will take place, and will be where the measured variable, its units and a written description are provided for every measured variable]

- access [includes a row for each file that was read in, and documents the name of each file and its format]
  
- biblio [citation information about the project, as much or as little data as possible can be included, but if things like bounding box coordinates are not included, then when the website is generated there will not be a bounding box map generated]
  
- creators [one row for each creator, and gives their affiliation and contact email]

## Creating JSON 

Once the user has populated the metadata files, they need to be read back into R and then fed into `write_JSON()`. `write_JSON` will converts those tabular metadata files into JSON files. 

## Creating dataset README webpage

A dataset README website is an interactive representation of the JSON information about the data. Assuming sufficient information is provided in the JSON it will include a map of the points and a bounding box of the area of study. 

The output from `write_JSON()` is fed into `build_site()` to create the website.

`serve_site()`

[example JSON website]

